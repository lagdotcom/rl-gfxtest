(()=>{var z=Object.create;var v=Object.defineProperty;var A=Object.getOwnPropertyDescriptor;var F=Object.getOwnPropertyNames;var P=Object.getPrototypeOf,U=Object.prototype.hasOwnProperty;var $=(n,t)=>()=>(t||n((t={exports:{}}).exports,t),t.exports);var K=(n,t,e,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of F(t))!U.call(n,o)&&o!==e&&v(n,o,{get:()=>t[o],enumerable:!(r=A(t,o))||r.enumerable});return n};var R=(n,t,e)=>(e=n!=null?z(P(n)):{},K(t||!n||!n.__esModule?v(e,"default",{value:n,enumerable:!0}):e,n));var b=$((Q,D)=>{D.exports=globalThis.wglt});var d=[0,0,0],T=[255,0,0],W=[0,255,0],H=[0,0,255],E=[255,255,0],k=[0,255,255],p=[255,255,255];var M=R(b()),f=class{constructor(t,e,r,o){this.term=t;this.x=e;this.y=r;this.text=o;this.flash=!1}draw(){this.flash=!this.flash,this.term.drawCenteredString(this.x,this.y,this.text,this.flash?M.Colors.WHITE:M.Colors.LIGHT_CYAN)}};var L=R(b()),w=class{constructor(t,e=[]){this.term=t;this.objects=e;this.rng=new L.RNG(Date.now()),t.update=this.onUpdate.bind(this)}add(t){return this.objects.push(t),this}onUpdate(){this.term.fillRect(0,0,this.term.width,this.term.height," ",void 0,0);for(let t of this.objects)t.draw()}};var G=R(b());function g(n,t,e){return(1-e)*n+e*t}var h=class{constructor(t){this.points=t;this.sort()}sort(){this.points.sort(([t],[e])=>t-e)}add(t,e){return this.points.push([t,e]),this.sort(),this}get(t){let[e,r]=this.points[0];if(t<=e)return(0,G.fromRgb)(...r);let[o,s]=this.points[this.points.length-1];if(t>=o)return(0,G.fromRgb)(...s);let a=this.points.findIndex(([N])=>N>t),[i,[c,m,B]]=this.points[a-1],[y,[x,Y,j]]=this.points[a],C=(t-i)/(y-i);return(0,G.fromRgb)(g(c,x,C),g(m,Y,C),g(B,j,C))}};function u(n){return Math.round(n)}function O(n,t,e){let r=u(n),o=u(t),s=Math.cos(e),a=Math.sin(e),i=n,c=t;for(;;)if(i+=s,c+=a,u(i)!=r||u(c)!=o)return[i,c]}function S(n,t){return n*1e3+t}function V(n){return[Math.floor(n/1e3),n%1e3]}var X=new h([[0,d],[1,H],[2,k],[4,p]]),l=class{constructor(t,e,r,o=12,s=X){this.g=t;this.x=e;this.y=r;this.power=o;this.gradient=s;this.values=new Map}float(){return this.g.rng.nextFloat()}range(t,e){return this.g.rng.nextRange(t,e)}poke(t,e,r){let o=S(u(t),u(e)),s=this.values.get(o);this.values.set(o,Math.max(s||0,r))}draw(){this.values.clear();let t=this.float()*3,e=this.range(3,5);for(let r=0;r<e;r++)this.arc(this.x,this.y,this.power/e,t,(this.float()-.5)/3),t+=1+this.float()*2;for(let[r,o]of this.values){let[s,a]=V(r);this.g.term.drawChar(s,a," ",void 0,this.gradient.get(o))}}arc(t,e,r,o,s){if(r<=0)return;this.poke(t,e,r),o+=s;let[a,i]=O(t,e,o);if(this.float()<.2){let m=this.float();r*=.6,this.arc(a,i,r,o-m,-s),o+=m}let c=this.float();this.arc(a,i,r-c,o,s)}};var I=R(b());function _(n){let r=document.createElement("div");n.appendChild(r);let o=()=>{let B=Math.floor(window.innerWidth/480),y=Math.floor(window.innerHeight/320),x=Math.min(B,y);r.style.width=`${480*x}px`,r.style.height=`${320*x}px`};window.addEventListener("resize",o),o();let s=document.createElement("canvas");r.appendChild(s);let a=new I.Terminal(s,60,40,{maxFps:10}),i=new w(a);i.add(new l(i,60/4-5,40/2-5)),i.add(new l(i,60/4*2,40/2+5,12,new h([[0,d],[1,T],[2,E],[4,p]]))),i.add(new l(i,60/4*3+5,40/2-5,12,new h([[0,d],[1,W],[2,E],[4,p]]))),i.add(new f(a,60/2,4,"!! ELECTRO RAVE !!"))}window.addEventListener("load",()=>_(document.body));})();
//# sourceMappingURL=bundle.js.map
